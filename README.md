# ğŸš€ NEXUS-402

<div align="center">

## **The Universal x402 Orchestration Protocol for Cronos**

### ğŸ† Built for the Cronos x402 Paytech Hackathon ($42,000 Prize Pool)

[![Cronos](https://img.shields.io/badge/Cronos-002D74?style=for-the-badge&logo=cronos&logoColor=white)](https://cronos.org)
[![x402](https://img.shields.io/badge/x402-Protocol-00A3FF?style=for-the-badge)](https://github.com/coinbase/x402)
[![Live](https://img.shields.io/badge/Status-LIVE%20on%20Testnet-00FF00?style=for-the-badge)](https://explorer.cronos.org/testnet)
[![Demo](https://img.shields.io/badge/Demo-YouTube-FF0000?style=for-the-badge&logo=youtube&logoColor=white)](https://youtu.be/K8bI92NpbHc)
[![Contracts](https://img.shields.io/badge/Contracts-4%20Deployed-purple?style=for-the-badge)](https://explorer.cronos.org/testnet)
[![TypeScript](https://img.shields.io/badge/TypeScript-100%25-3178C6?style=for-the-badge&logo=typescript&logoColor=white)](https://www.typescriptlang.org/)

---

**ğŸ¯ "The missing infrastructure layer that transforms Cronos from a chain for scripts into a home for intelligent, orchestrated AI agents."**

*Connect AI Agents â€¢ Chain Multi-Step Workflows â€¢ Process Gasless x402 Payments*

</div>

---

## âš¡ Why NEXUS-402 Wins

<table>
<tr>
<td width="50%">

### ğŸ—ï¸ **Infrastructure, Not Just An App**

Unlike single-purpose projects, NEXUS-402 is the **universal orchestration layer** that ALL other x402 applications can build on:

- ğŸ”— **CronosStream** can register streaming agents here
- ğŸ“Š **x402 Observatory** can index our protocol events
- ğŸ¤– **Automae** can orchestrate agents through our workflows
- ğŸ’± **Nexus402 Trading** can be listed in our marketplace
- ğŸ” **CronLock** can use our payment router

**We're the foundation. They're the applications.**

</td>
<td width="50%">

### ğŸ“Š **By The Numbers**

| Metric | NEXUS-402 | Typical Competitor |
|--------|-----------|-------------------|
| **Smart Contracts Deployed** | **4** | 0-1 |
| **Registered Agents (On-Chain)** | **4** | 0 |
| **Developer Tools** | SDK + CLI + MCP | 1 or none |
| **Payment Types** | 6 (Simple, Split, Stream, Escrow, Recurring, Conditional) | 1-2 |
| **On-Chain Agent Registry** | âœ… Yes | âŒ No |
| **Workflow Engine** | âœ… Multi-step | âŒ None |
| **Crypto.com Integration** | âœ… Market + AI | âŒ None |
| **TypeScript SDK** | âœ… @nexus-402/sdk | âŒ None |
| **MCP Server** | âœ… 10+ tools | âŒ None |

</td>
</tr>
</table>

---

## ğŸ¯ Live on Cronos Testnet

<div align="center">

### **All 4 Contracts Deployed & Operational**

| Contract | Address | Purpose | Explorer |
|----------|---------|---------|----------|
| **ğŸ¤– NexusRegistry** | `0xABA74d14F489F572ed6520950c7D2059F70F2444` | Agent Discovery & Registration | [View â†’](https://explorer.cronos.org/testnet/address/0xABA74d14F489F572ed6520950c7D2059F70F2444) |
| **âš¡ WorkflowEngine** | `0xd055511F2f204ea0dD1c0D69D9bF76Bc1C5D3938` | Multi-Step Orchestration | [View â†’](https://explorer.cronos.org/testnet/address/0xd055511F2f204ea0dD1c0D69D9bF76Bc1C5D3938) |
| **ğŸ’³ PaymentRouter** | `0x34096A7821a2EFE7996C1223fc9d81ACd188Ca3C` | x402 Payment Processing | [View â†’](https://explorer.cronos.org/testnet/address/0x34096A7821a2EFE7996C1223fc9d81ACd188Ca3C) |
| **ğŸª AgentMarketplace** | `0xBf13838ffe1cc686D2f1f088fdfE8D8301782D81` | Service Listing & Escrow | [View â†’](https://explorer.cronos.org/testnet/address/0xBf13838ffe1cc686D2f1f088fdfE8D8301782D81) |

**Network:** Cronos Testnet (Chain ID: 338) | **RPC:** `https://evm-t3.cronos.org` | **USDC.e:** `0x8f4ae4b0a4e8fac07ab521c0d13e26400fe1ce1a`

### **4 Registered AI Agents (Live On-Chain)**

| Agent | Capabilities | Price | TX Hash |
|-------|-------------|-------|---------|
| ğŸ”® **DeFi Price Oracle** | oracle, defi, pricing | 0.05 USDC | [View â†’](https://explorer.cronos.org/testnet/tx/0x2e2f087eaf9ac349c68971cc096590228bb85c3f96ce006299c7904bacd14ea1) |
| ğŸ“Š **Sentiment Analyzer** | analytics, sentiment, social | 0.10 USDC | [View â†’](https://explorer.cronos.org/testnet/tx/0x828e3af06b662b77770fc2be6c48b4b6b2bfb47db0694518999b7f340a506b08) |
| ğŸ’° **Yield Optimizer** | defi, yield, optimization, staking | 0.15 USDC | [View â†’](https://explorer.cronos.org/testnet/tx/0x3913db22d1d3983325072028765420e47ad8e1b7a14c0881224db0fb321524c3) |
| ğŸ” **Smart Contract Auditor** | security, audit, contracts | 0.25 USDC | [View â†’](https://explorer.cronos.org/testnet/tx/0x856e040fd8ba032071feb8b6c39c47505b431b9b5f33cf6da2f1bc83f605bb70) |

</div>

---

## ğŸ—ï¸ Technical Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                  NEXUS-402 PROTOCOL                                       â”‚
â”‚                    The Universal Orchestration Layer for Cronos                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                          â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚    â”‚                           SMART CONTRACT LAYER                                   â”‚   â”‚
â”‚    â”‚                          (Cronos Testnet - Live)                                â”‚   â”‚
â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚   â”‚
â”‚    â”‚  â”‚  NexusRegistry   â”‚  â”‚  WorkflowEngine  â”‚  â”‚  PaymentRouter   â”‚  â”‚Marketplaceâ”‚â”‚   â”‚
â”‚    â”‚  â”‚ 0xABA7...2444    â”‚  â”‚ 0xd055...3938    â”‚  â”‚ 0x3409...Ca3C    â”‚  â”‚0xBf13... â”‚â”‚   â”‚
â”‚    â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚   â”‚
â”‚    â”‚  â”‚â€¢ Agent Registry  â”‚  â”‚â€¢ Step Execution  â”‚  â”‚â€¢ x402 Payments   â”‚  â”‚â€¢ Listingsâ”‚â”‚   â”‚
â”‚    â”‚  â”‚â€¢ Capability Indexâ”‚  â”‚â€¢ Conditional Flowâ”‚  â”‚â€¢ Split Payments  â”‚  â”‚â€¢ Escrow  â”‚â”‚   â”‚
â”‚    â”‚  â”‚â€¢ Rating System   â”‚  â”‚â€¢ Error Handling  â”‚  â”‚â€¢ Streaming       â”‚  â”‚â€¢ Orders  â”‚â”‚   â”‚
â”‚    â”‚  â”‚â€¢ Call Recording  â”‚  â”‚â€¢ Timeout Control â”‚  â”‚â€¢ Recurring       â”‚  â”‚â€¢ Reviews â”‚â”‚   â”‚
â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚   â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                         â”‚                                                 â”‚
â”‚                                         â–¼                                                 â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚    â”‚                            APPLICATION LAYER                                     â”‚   â”‚
â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚   â”‚
â”‚    â”‚  â”‚  Backend    â”‚  â”‚  Frontend   â”‚  â”‚ Demo Agents â”‚  â”‚     3rd Party Apps      â”‚â”‚   â”‚
â”‚    â”‚  â”‚  Express.js â”‚  â”‚  Next.js 14 â”‚  â”‚  Python/TS  â”‚  â”‚ (CronosStream, etc.)    â”‚â”‚   â”‚
â”‚    â”‚  â”‚  REST API   â”‚  â”‚  Dashboard  â”‚  â”‚  DeFi, Pay  â”‚  â”‚ Can integrate via SDK   â”‚â”‚   â”‚
â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚   â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                         â”‚                                                 â”‚
â”‚                                         â–¼                                                 â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚    â”‚                          DEVELOPER TOOLING LAYER                                 â”‚   â”‚
â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚    â”‚  â”‚  TypeScript SDK â”‚    â”‚    CLI Tool     â”‚    â”‚        MCP Server           â”‚ â”‚   â”‚
â”‚    â”‚  â”‚ @nexus-402/sdk  â”‚    â”‚ @nexus-402/cli  â”‚    â”‚   @nexus-402/mcp-server     â”‚ â”‚   â”‚
â”‚    â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚   â”‚
â”‚    â”‚  â”‚â€¢ Client Class   â”‚    â”‚â€¢ Agent Commands â”‚    â”‚â€¢ 10+ AI Tools               â”‚ â”‚   â”‚
â”‚    â”‚  â”‚â€¢ Type-Safe APIs â”‚    â”‚â€¢ Workflow Cmds  â”‚    â”‚â€¢ Claude/ChatGPT Compatible  â”‚ â”‚   â”‚
â”‚    â”‚  â”‚â€¢ Signer Support â”‚    â”‚â€¢ Payment Cmds   â”‚    â”‚â€¢ Agent Discovery            â”‚ â”‚   â”‚
â”‚    â”‚  â”‚â€¢ Error Handling â”‚    â”‚â€¢ Analytics      â”‚    â”‚â€¢ Workflow Execution         â”‚ â”‚   â”‚
â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸŒŸ Core Features

### ğŸ¤– Agent Registry (`NexusRegistry.sol`)

**On-chain discovery and management for AI agents.**

```solidity
// Register agent with capabilities, pricing, and metadata
function registerAgent(
    string memory metadataUri,      // IPFS/HTTP JSON metadata
    string[] memory capabilities,   // ["defi", "trading", "oracle"]
    uint256 pricePerCall,           // USDC price (6 decimals)
    address paymentAddress          // Payment recipient
) external returns (bytes32 agentId);

// Query agents by capability
function getAgentsByCapability(string memory capability) 
    external view returns (bytes32[] memory);

// Record agent usage (for reputation)
function recordAgentCall(bytes32 agentId, uint256 paymentAmount) external;
```

**Why This Matters:** Any AI agent (trading bots, oracles, analyzers) can register once and be discovered by the entire Cronos ecosystem.

---

### âš¡ Workflow Engine (`WorkflowEngine.sol`)

**Chain multiple agents into automated pipelines.**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Example: DeFi Automation                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚ Price      â”‚ â”€â”€â–¶  â”‚ Strategist  â”‚ â”€â”€â–¶  â”‚ Payment        â”‚   â”‚
â”‚   â”‚ Oracle     â”‚      â”‚ Agent       â”‚      â”‚ Processor      â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         â”‚                    â”‚                    â”‚              â”‚
â”‚    Get CRO/USDC         Analyze &            Execute x402       â”‚
â”‚    real-time            Generate              payment to        â”‚
â”‚    price                strategy              protocol          â”‚
â”‚                                                                  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚  Workflow Steps (On-Chain):                              â”‚   â”‚
â”‚   â”‚  1. CALL_AGENT: price-oracle â†’ get price                 â”‚   â”‚
â”‚   â”‚  2. CONDITION: if price < threshold                      â”‚   â”‚
â”‚   â”‚  3. CALL_AGENT: defi-strategist â†’ generate strategy      â”‚   â”‚
â”‚   â”‚  4. TRANSFER: execute x402 payment                       â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Step Types:**
- `CALL_AGENT` - Invoke a registered agent
- `TRANSFER` - Execute x402 payment
- `SWAP` - Token swap via DEX
- `CONDITION` - Branching logic
- `PARALLEL` - Execute steps concurrently
- `DELAY` - Time-based waiting
- `CUSTOM` - Arbitrary contract calls

---

### ğŸ’³ Payment Router (`PaymentRouter.sol`)

**6 payment types, all x402-enabled with EIP-3009.**

| Payment Type | Description | Use Case |
|-------------|-------------|----------|
| **SIMPLE** | One-time direct transfer | Pay for API call |
| **SPLIT** | Multi-recipient distribution | Revenue sharing |
| **STREAMING** | Time-based continuous payment | Subscriptions |
| **CONDITIONAL** | Release on condition met | Escrow |
| **ESCROW** | Arbitration-enabled | Marketplace orders |
| **RECURRING** | Scheduled automatic payments | Monthly billing |

```solidity
// Gasless x402 payment with EIP-3009
function processX402Payment(
    address from,
    address to,
    uint256 value,
    uint256 validAfter,
    uint256 validBefore,
    bytes32 nonce,
    bytes calldata signature
) external;

// Create streaming payment
function createStreamingPayment(
    address recipient,
    uint256 totalAmount,
    uint256 startTime,
    uint256 endTime
) external returns (bytes32);
```

---

### ğŸª Agent Marketplace (`AgentMarketplace.sol`)

**Discover, purchase, and rate AI agent services.**

- Create service listings with pricing
- Order management with escrow protection
- Ratings and reviews (on-chain reputation)
- Category-based discovery

---

## ğŸ› ï¸ Developer Tooling

### ğŸ“¦ TypeScript SDK (`@nexus-402/sdk`)

```typescript
import { NexusClient } from '@nexus-402/sdk';

// Initialize with signer
const nexus = new NexusClient({
  rpcUrl: 'https://evm-t3.cronos.org',
  privateKey: process.env.PRIVATE_KEY,
  contracts: {
    registry: '0xABA74d14F489F572ed6520950c7D2059F70F2444',
    workflowEngine: '0xd055511F2f204ea0dD1c0D69D9bF76Bc1C5D3938',
    paymentRouter: '0x34096A7821a2EFE7996C1223fc9d81ACd188Ca3C',
    marketplace: '0xBf13838ffe1cc686D2f1f088fdfE8D8301782D81'
  }
});

// Register an agent
const agentId = await nexus.agents.register({
  name: 'My DeFi Oracle',
  description: 'Real-time price feeds',
  capabilities: ['oracle', 'defi', 'pricing'],
  pricePerCall: '100000', // 0.10 USDC
  endpoint: 'https://my-api.com/oracle'
});

// Create a workflow
const workflow = await nexus.workflows.create({
  name: 'Automated Trading',
  steps: [
    { type: 'CALL_AGENT', agentId: 'price-oracle', action: 'getPrice' },
    { type: 'CONDITION', check: 'price < 1.0' },
    { type: 'CALL_AGENT', agentId: 'trader', action: 'executeTrade' }
  ]
});

// Execute workflow
const result = await nexus.workflows.execute(workflow.id);
```

---

### ğŸ’» CLI Tool (`@nexus-402/cli`)

```bash
# Install globally
npm install -g @nexus-402/cli

# Configure
nexus config set rpc https://evm-t3.cronos.org
nexus config set private-key $PRIVATE_KEY

# Agent operations
nexus agents list                    # List all registered agents
nexus agents register --interactive  # Register new agent
nexus agents call <id> --action getPrices

# Workflow operations
nexus workflows list
nexus workflows create --from workflow.json
nexus workflows execute <id>

# Payment operations
nexus payments x402 --to 0x... --amount 1.00
nexus payments stream --to 0x... --amount 100 --duration 30d

# Analytics
nexus analytics overview
nexus analytics agents --top 10
```

---

### ğŸ¤– MCP Server (`@nexus-402/mcp-server`)

**Enable Claude, ChatGPT, and other AI assistants to interact with NEXUS-402.**

```json
// claude_desktop_config.json
{
  "mcpServers": {
    "nexus-402": {
      "command": "npx",
      "args": ["@nexus-402/mcp-server"],
      "env": {
        "NEXUS_API_URL": "http://localhost:3001"
      }
    }
  }
}
```

**10+ Available Tools:**

| Tool | Description |
|------|-------------|
| `list_agents` | Discover registered AI agents |
| `get_agent` | Get agent details and capabilities |
| `call_agent` | Execute agent with x402 payment |
| `create_workflow` | Build multi-step automation |
| `execute_workflow` | Run workflow pipeline |
| `process_x402_payment` | Execute gasless payment |
| `create_payment_stream` | Setup streaming payment |
| `get_protocol_stats` | Protocol analytics |
| `browse_marketplace` | Explore agent listings |
| `create_listing` | List service in marketplace |

**Example Claude Interaction:**
> "Find me a DeFi oracle agent and call it to get the current CRO/USDC price"

Claude will use `list_agents` â†’ `call_agent` with automatic x402 payment handling.

---

### ğŸŒ Crypto.com Integration

**NEXUS-402 integrates with Crypto.com ecosystem for real-time market data and AI capabilities.**

#### Market Data API
```typescript
// Real-time price feeds from Crypto.com Exchange
GET /api/market                 // All tickers
GET /api/market/ticker/CRO_USD  // CRO/USD price
GET /api/market/sentiment/CRO   // Market sentiment analysis
GET /api/market/cro             // Full CRO market data
```

**Supported Pairs:** CRO_USD, BTC_USD, ETH_USD, USDC_USDT, CRO_BTC, CRO_ETH, SOL_USD, ATOM_USD, DOGE_USD, SHIB_USD

#### AI Agent SDK Pattern
```typescript
// Execute intelligent agent actions
POST /api/market/agent
{
  "action": "analyze_market",
  "params": { "symbols": ["CRO", "BTC", "ETH"] }
}
```

**Available Actions:**
| Action | Description |
|--------|-------------|
| `get_price` | Fetch real-time cryptocurrency prices |
| `analyze_market` | Multi-asset market analysis |
| `sentiment_analysis` | Market sentiment scoring |
| `portfolio_recommendation` | AI-powered portfolio suggestions |
| `defi_opportunity` | Find best yield farming opportunities |
| `execute_trade` | Execute payment via x402 |

---

## ğŸ† Hackathon Track Alignment

<table>
<tr>
<td width="50%">

### ğŸ¥‡ Main Track ($24,000)
**Complete x402 Application**

âœ… **4 deployed smart contracts** on Cronos Testnet  
âœ… **End-to-end protocol** from registration to payment  
âœ… **Live dashboard** with real blockchain data  
âœ… **x402 payment flow** with EIP-3009 implementation  
âœ… **Agent orchestration** - unique to NEXUS-402  
âœ… **Workflow automation** - chain multiple agents  

**Why We Win:** Not just an appâ€”we're infrastructure that enables ALL other x402 applications.

</td>
<td width="50%">

### ğŸ’° Best Agentic Finance ($5,000)
**AI-Powered Financial Automation**

âœ… **Agent registry** for DeFi bots and oracles  
âœ… **Workflow engine** for trading strategies  
âœ… **Payment streaming** for subscriptions  
âœ… **Multi-agent coordination** via workflows  
âœ… **On-chain reputation** for agent trust  
âœ… **Revenue splitting** for agent collectives  

**Why We Win:** Enable agents to discover, pay, and coordinate with each other autonomously.

</td>
</tr>
<tr>
<td width="50%">

### ğŸ”— Best Ecosystem Integration ($3,000)
**Deep Cronos Integration**

âœ… **Native Cronos EVM** deployment  
âœ… **x402 protocol** standard implementation  
âœ… **USDC.e support** with EIP-3009  
âœ… **Block explorer integration** in UI  
âœ… **Testnet faucet** compatibility  
âœ… **Compatible with Moonlander, VVS, etc.**  

**Why We Win:** Other hackathon projects can register their agents in OUR registry.

</td>
<td width="50%">

### ğŸ›  Best Developer Tooling ($3,000)
**Complete Developer Ecosystem**

âœ… **TypeScript SDK** - full-featured client  
âœ… **CLI tool** - command-line operations  
âœ… **MCP Server** - AI assistant integration  
âœ… **REST API** - HTTP endpoints  
âœ… **TypeChain types** - generated from contracts  
âœ… **Comprehensive docs** - examples & guides  

**Why We Win:** 3 integration methods (SDK/CLI/MCP) vs competitors' 0-1.

</td>
</tr>
</table>

---

## ğŸš€ Quick Start

### Prerequisites
- Node.js 18+
- pnpm (recommended)
- Cronos testnet wallet with TCRO

### Installation

```bash
# Clone repository
git clone https://github.com/tonyflam/nexus-402.git
cd nexus-402

# Install dependencies
pnpm install

# Copy environment variables
cp .env.example .env
# Edit .env with your private key
```

### Run the Stack

```bash
# Terminal 1: Backend API
cd apps/backend && npx tsx src/index.ts

# Terminal 2: Frontend Dashboard  
cd apps/frontend && pnpm dev

# Terminal 3: Demo Agents (optional)
cd apps/demo-agents && npx tsx src/index.ts
```

**Access:** http://localhost:3000

---

## ğŸ“š Documentation

| Document | Description |
|----------|-------------|
| [README.md](./README.md) | This file - overview & quick start |
| [HACKATHON.md](./HACKATHON.md) | ğŸ† Hackathon submission & competitive analysis |
| [INTEGRATION.md](./INTEGRATION.md) | How other projects can integrate with NEXUS-402 |
| [DEPLOYMENT.md](./DEPLOYMENT.md) | Contract deployment guide |
| [docs/SDK.md](./docs/SDK.md) | TypeScript SDK full documentation |
| [docs/MCP_SERVER.md](./docs/MCP_SERVER.md) | MCP Server (12+ tools) documentation |
| [CONTRIBUTING.md](./CONTRIBUTING.md) | Contribution guidelines |

---

## ğŸ“ Project Structure

```
nexus-402/
â”œâ”€â”€ contracts/                     # Solidity Smart Contracts
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ NexusRegistry.sol      # Agent Registry (0xABA7...)
â”‚   â”‚   â”œâ”€â”€ WorkflowEngine.sol     # Workflow Orchestration (0xd055...)
â”‚   â”‚   â”œâ”€â”€ PaymentRouter.sol      # x402 Payments (0x3409...)
â”‚   â”‚   â””â”€â”€ AgentMarketplace.sol   # Marketplace (0xBf13...)
â”‚   â”œâ”€â”€ scripts/
â”‚   â”‚   â”œâ”€â”€ deploy.ts              # Deployment script
â”‚   â”‚   â””â”€â”€ register-agents.ts     # Agent registration
â”‚   â””â”€â”€ typechain-types/           # Generated TypeScript types
â”‚
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ backend/                   # Express.js API Server
â”‚   â”‚   â””â”€â”€ src/
â”‚   â”‚       â”œâ”€â”€ index.ts           # Server entry
â”‚   â”‚       â”œâ”€â”€ middleware/
â”‚   â”‚       â”‚   â””â”€â”€ x402.ts        # x402 payment middleware
â”‚   â”‚       â””â”€â”€ routes/            # API endpoints
â”‚   â”‚
â”‚   â”œâ”€â”€ frontend/                  # Next.js 14 Dashboard
â”‚   â”‚   â””â”€â”€ src/
â”‚   â”‚       â”œâ”€â”€ app/               # App router pages
â”‚   â”‚       â”œâ”€â”€ components/        # React components
â”‚   â”‚       â””â”€â”€ lib/               # Hooks & blockchain integration
â”‚   â”‚
â”‚   â””â”€â”€ demo-agents/               # Example AI Agents
â”‚       â””â”€â”€ src/agents/
â”‚           â”œâ”€â”€ defi-strategist.ts # DeFi analysis agent
â”‚           â”œâ”€â”€ price-oracle.ts    # Price feed agent
â”‚           â””â”€â”€ payment-processor.ts # Payment automation
â”‚
â””â”€â”€ packages/
    â”œâ”€â”€ sdk/                       # TypeScript SDK
    â”‚   â””â”€â”€ src/index.ts           # NexusClient class
    â”œâ”€â”€ cli/                       # Command-Line Tool
    â”‚   â””â”€â”€ src/index.ts           # CLI commands
    â””â”€â”€ mcp-server/                # MCP Server
        â””â”€â”€ src/index.ts           # 10+ AI tools
```

---

## ğŸ”— Links

| Resource | URL |
|----------|-----|
| **Cronos Explorer** | [View Contracts â†’](https://explorer.cronos.org/testnet/address/0xABA74d14F489F572ed6520950c7D2059F70F2444) |
| **Testnet Faucet** | [Get TCRO â†’](https://cronos.org/faucet) |
| **x402 Protocol** | [Coinbase x402 â†’](https://github.com/coinbase/x402) |
| **GitHub Repo** | [tonyflam/nexus-402 â†’](https://github.com/tonyflam/nexus-402) |

---

## ğŸ“„ License

MIT License - see [LICENSE](./LICENSE)

---

<div align="center">

### ğŸ† Built for the Cronos x402 Paytech Hackathon

**The Universal x402 Orchestration Protocol**

*Enabling the next generation of AI agents on Cronos*

---

[View on Explorer](https://explorer.cronos.org/testnet/address/0xABA74d14F489F572ed6520950c7D2059F70F2444) â€¢ [GitHub](https://github.com/tonyflam/nexus-402) â€¢ [x402 Protocol](https://github.com/coinbase/x402)

</div>
